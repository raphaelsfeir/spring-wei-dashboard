<div class="container">
  <mat-card>
    <div class="card-container">
      <mat-card-title class="card-container-left">{{user.name}}</mat-card-title>
    </div>
  </mat-card>
  <mat-divider></mat-divider>
  <div class="row">
    <div class="col-md">
      <mat-card>
        <mat-card-title>Mon compte</mat-card-title>
        <mat-card-content>
          <ul>
            <li><strong>Nom : </strong> {{user.name}}</li>
            <li><strong>Nom d'utilisateur : </strong> {{user.pseudo}}</li>
            <li><strong>Campus :</strong> {{user.campus}}</li>
          </ul>
        </mat-card-content>
        <mat-card-actions>
          <button class="btn btn-primary" routerLink="/update-account">Mettre à jour</button>
        </mat-card-actions>
      </mat-card>
    </div>
    <div class="col-md">
      <mat-card [ngClass]="(bungalow|async)?.responsable == 'false' ? 'bg-danger text-white' : ''" *ngIf="user.bungalow != '0'">
        <mat-card-title>
          <i class="fas fa-exclamation-circle" *ngIf="(bungalow|async)?.responsable == 'false'"></i>
          Mon bungalow</mat-card-title>
        <mat-card-content>
          <ul>
            <li><strong>Numéro : </strong>{{user.bungalow}}</li>
            <li class="locataires"><strong>Locataires : </strong>
              <span *ngFor="let l of (bungalow|async)?.locataires">{{l}}</span>
            </li>
            <li *ngIf="(bungalow|async)?.responsable != 'false'"><strong>Responsable: </strong>{{(bungalow|async)?.responsable}}</li>
            <li *ngIf="(bungalow|async)?.responsable == 'false'"><strong>Aucun responsable n'a été défini</strong></li>
          </ul>
        </mat-card-content>
        <mat-card-actions>
          <button class="btn btn-primary" routerLink="/update-bungalow" *ngIf="(bungalow|async)?.responsable == 'false'">Corriger</button>
          <button class="btn btn-primary" routerLink="/update-bungalow" *ngIf="(bungalow|async)?.responsable != 'false'">Voir le bungalow</button>
        </mat-card-actions>
      </mat-card>
      <mat-card *ngIf="user.bungalow == '0'">
        <mat-card-title>
          <i class="fas fa-exclamation-circle"></i>
          Mon bungalow</mat-card-title>
        <mat-card-content>
          <p>Tu n'appartiens à aucun bungalow !</p>
        </mat-card-content>
        <mat-card-actions>
          <button class="btn btn-primary" routerLink="/update-bungalow">Réserver un bungalow</button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
  <mat-divider></mat-divider>
  <mat-card>
    <mat-card-title>Télécharger l'application</mat-card-title>
    <mat-card-subtitle>L'application du SpringWEI 2019 est disponible sur Android et iOS !</mat-card-subtitle>
    <mat-card-content>
      <div class="row">
        <a class="col text-center" (click)="download('android')" href="https://play.google.com/store/apps/details?id=com.campus_cvl.springwei" target="_blank">
          <h2>Android</h2>
          <i class="fab fa-google-play fa-4x"></i>
        </a>
        <a class="col text-center" (click)="download('ios')" href="https://apps.apple.com/fr/app/springwei/id1478738699" target="_blank">
          <h2>iOS</h2>
          <i class="fab fa-app-store fa-4x"></i>
        </a>
      </div>
    </mat-card-content>
  </mat-card>
</div>
